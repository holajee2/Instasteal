local HttpService = game:GetService("HttpService")

local request = syn and syn.request
    or http_request
    or request
    or (fluxus and fluxus.request)

if not request then
    return
end

local KEY = getgenv().KEY
if not KEY or KEY == "" then
    return
end

local APP_NAME = "Instasteal"
local OWNER_ID = "Kfi7cbMwv4"
local SECRET = "8a156055ae428360923c5723c9e5ac88531f33b77413a06b60a50718f7bc7b10"
local VERSION = "1.0"

local body = HttpService:JSONEncode({
    type = "login",
    name = APP_NAME,
    ownerid = OWNER_ID,
    secret = SECRET,
    key = KEY,
    version = VERSION
})

local res = request({
    Url = "https://keyauth.cc/api/1.2/",
    Method = "POST",
    Headers = {
        ["Content-Type"] = "application/json"
    },
    Body = body
})

if not res or not res.Body then
    return
end

local data = HttpService:JSONDecode(res.Body)

if not data.success then
    return
end

_G.__AUTH_OK = true

loadstring(game:HttpGet("https://raw.githubusercontent.com/holajee2/Instasteal/main/main.lua"))()

